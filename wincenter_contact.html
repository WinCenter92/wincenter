<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>WinCenter ‚Äì Contact</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Contact WinCenter ‚Äì formulaire pour toute question." />
  <style>
    :root {--bg-dark:#050816;--primary:#2563eb;--primary-soft:#1d4ed8;--accent:#facc15;--text-main:#f9fafb;--text-muted:#9ca3af;--border-soft:#1f2937;--card-bg:rgba(15,23,42,0.98);}
    *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;}
    body{background:radial-gradient(circle at top,#111827 0,#020617 55%);color:var(--text-main);min-height:100vh;}
    a{text-decoration:none;color:inherit;}
    .page{max-width:1100px;margin:0 auto;padding:24px 16px 48px;}
    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;}
    .logo{display:flex;align-items:center;gap:10px;}
    .logo-mark{width:38px;height:38px;border-radius:999px;background:radial-gradient(circle at 30% 20%,#facc15,#f97316 35%,#1d4ed8 100%);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:18px;box-shadow:0 0 22px rgba(250,204,21,.4);}
    .logo-text-main{font-weight:800;font-size:20px;text-transform:uppercase;letter-spacing:.04em;}
    .logo-text-sub{font-size:11px;text-transform:uppercase;color:var(--text-muted);letter-spacing:.16em;}
    .nav{display:flex;flex-wrap:wrap;gap:18px;font-size:14px;color:var(--text-muted);}
    .nav a{position:relative;padding-bottom:2px;}
    .nav a:hover{color:var(--text-main);}
    .nav a::after{content:"";position:absolute;left:0;bottom:-3px;width:0;height:2px;background:linear-gradient(90deg,#facc15,#22c55e);transition:width .15s ease-out;}
    .nav a:hover::after{width:100%;}
    .nav a.active{color:var(--text-main);font-weight:600;}
    .nav a.active::after{width:100%;}
    @media(max-width:700px){.header{flex-direction:column;align-items:flex-start;gap:12px;}}
    .title-block{max-width:640px;margin:0 auto 20px;text-align:center;}
    .page-title{font-size:24px;font-weight:700;margin-bottom:8px;}
    .page-subtitle{font-size:14px;color:var(--text-muted);}
    .contact-wrapper{max-width:640px;margin:26px auto 0;}
    .contact-card{border-radius:18px;border:1px solid rgba(31,41,55,.9);background:var(--card-bg);padding:20px 18px 22px;box-shadow:0 18px 40px rgba(15,23,42,.9);position:relative;overflow:hidden;}
    .contact-card::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at top left,rgba(250,204,21,.12),transparent 55%);}
    .contact-inner{position:relative;z-index:1;}
    form{display:flex;flex-direction:column;gap:12px;}
    .field-group{display:flex;flex-direction:column;gap:4px;}
    .field-label{font-size:13px;color:var(--text-muted);}
    .field-label span{color:#f97373;}
    .field-input,.field-textarea{width:100%;border-radius:10px;border:1px solid rgba(55,65,81,.9);background:rgba(15,23,42,.9);color:var(--text-main);padding:9px 10px;font-size:14px;outline:none;}
    .field-input::placeholder,.field-textarea::placeholder{color:rgba(148,163,184,.7);}
    .field-input:focus,.field-textarea:focus{border-color:#2563eb;box-shadow:0 0 0 1px rgba(37,99,235,.6);background:rgba(15,23,42,1);}
    .field-textarea{min-height:120px;max-height:260px;resize:vertical;}
    .field-hint{font-size:11px;color:var(--text-muted);}
    .error-text{font-size:11px;color:#f97373;display:none;}
    .btn-primary{border-radius:999px;border:none;background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;padding:9px 20px;font-size:14px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;box-shadow:0 12px 30px rgba(37,99,235,.4);}
    .btn-primary:hover{transform:translateY(-1px);box-shadow:0 16px 40px rgba(37,99,235,.55);background:linear-gradient(135deg,#1d4ed8,#1e40af);}
    .footer{margin-top:28px;padding-top:14px;border-top:1px solid rgba(31,41,55,.9);font-size:11px;color:var(--text-muted);display:flex;justify-content:space-between;}
    .status-text{font-size:12px;margin-top:5px;}
    .success{color:#4ade80;}
    .error{color:#fb7185;}

    .success-block{display:none;text-align:center;padding:18px 10px;}
    .success-title{font-size:18px;font-weight:600;margin-bottom:6px;}
    .success-text{font-size:13px;color:var(--text-muted);margin-bottom:14px;}
    .btn-link{display:inline-flex;align-items:center;gap:6px;}
  </style>
</head>

<body>
  <div class="page">

    <header class="header">
      <a href="index.html" class="logo">
        <div class="logo-mark">W</div>
        <div>
          <div class="logo-text-main">WinCenter</div>
          <div class="logo-text-sub">Le centre des gagnants</div>
        </div>
      </a>

      <nav class="nav">
        <a href="index.html">Pr√©sentation</a>
        <a href="wincenter_inscription.html">Inscription</a>
        <a href="wincenter_reglement.html">R√®glement</a>
        <a href="wincenter_gagnants.html">Gagnants</a>
        <a href="wincenter_contact.html" class="active">Contact</a>
      </nav>
    </header>

    <main>
      <section class="title-block">
        <h1 class="page-title">Contact WinCenter</h1>
        <p class="page-subtitle">
          Une question sur un tirage, un lot ou un probl√®me avec ton inscription&nbsp;? 
          Utilise ce formulaire, on te r√©pond d√®s que possible.
        </p>
      </section>

      <section class="contact-wrapper">
        <div class="contact-card">
          <div class="contact-inner">

            <!-- Bloc succ√®s (affich√© apr√®s envoi r√©ussi) -->
            <div id="successBlock" class="success-block">
              <div class="success-title">Message bien envoy√© ‚úÖ</div>
              <div class="success-text">
                Merci de nous avoir contact√©s. Nous reviendrons vers toi d√®s que possible √† l‚Äôadresse indiqu√©e.
              </div>
              <a href="index.html" class="btn-primary btn-link">
                <span>‚¨Ö Retour au menu principal</span>
              </a>
            </div>

            <!-- Formulaire de contact -->
            <form id="contactForm" action="https://formspree.io/f/mqardngk" method="POST">
              
              <div class="field-group">
                <label class="field-label">Pseudo <span>*</span></label>
                <input class="field-input" name="pseudo" required maxlength="60" placeholder="Ex : Shadow92">
                <div class="error-text" id="errPseudo">Merci d‚Äôindiquer ton pseudo.</div>
              </div>

              <div class="field-group">
                <label class="field-label">Email <span>*</span></label>
                <input class="field-input" name="email" type="email" required maxlength="120" placeholder="ton.email@example.com">
                <div class="error-text" id="errEmail">Email invalide.</div>
              </div>

              <div class="field-group">
                <label class="field-label">Message <span>*</span></label>
                <textarea class="field-textarea" name="message" required maxlength="3000" placeholder="Explique-nous ta demande (3000 caract√®res max)."></textarea>
                <div class="field-hint">3000 caract√®res maximum.</div>
                <div class="error-text" id="errMsg">Merci de saisir un message.</div>
              </div>

              <button class="btn-primary" type="submit">üì® Envoyer</button>
              <div class="status-text" id="status"></div>

            </form>
          </div>
        </div>
      </section>

    </main>

    <footer class="footer">
      <div>¬© 2025 WinCenter ‚Äì Contact</div>
      <div>LePro</div>
    </footer>

  </div>

  <script>
    const form = document.getElementById("contactForm");
    const statusEl = document.getElementById("status");
    const successBlock = document.getElementById("successBlock");

    const pseudoInput = form.elements["pseudo"];
    const emailInput = form.elements["email"];
    const messageInput = form.elements["message"];

    const errPseudo = document.getElementById("errPseudo");
    const errEmail = document.getElementById("errEmail");
    const errMsg = document.getElementById("errMsg");

    function isValidEmail(value){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
    }

    form.addEventListener("submit", async (ev)=>{
      ev.preventDefault();

      // Reset
      statusEl.textContent = "";
      statusEl.className = "status-text";
      errPseudo.style.display = "none";
      errEmail.style.display = "none";
      errMsg.style.display = "none";

      let ok = true;
      if(!pseudoInput.value.trim()){
        errPseudo.style.display = "block";
        ok = false;
      }
      if(!isValidEmail(emailInput.value.trim())){
        errEmail.style.display = "block";
        ok = false;
      }
      if(!messageInput.value.trim()){
        errMsg.style.display = "block";
        ok = false;
      }

      if(!ok){
        statusEl.textContent = "Merci de corriger les champs indiqu√©s.";
        statusEl.classList.add("error");
        return;
      }

      statusEl.textContent = "Envoi en cours...";
      statusEl.classList.add("success");

      try{
        const formData = new FormData(form);
        const resp = await fetch(form.action, {
          method: "POST",
          body: formData,
          headers: { "Accept": "application/json" }
        });

        if(resp.ok){
          form.reset();
          form.style.display = "none";
          successBlock.style.display = "block";
          statusEl.textContent = "";
        }else{
          statusEl.textContent = "Une erreur est survenue. Merci de r√©essayer plus tard.";
          statusEl.classList.remove("success");
          statusEl.classList.add("error");
        }
      }catch(e){
        statusEl.textContent = "Impossible d‚Äôenvoyer le message. V√©rifie ta connexion internet et r√©essaie.";
        statusEl.classList.remove("success");
        statusEl.classList.add("error");
      }
    });
  </script>

</body>
</html>
